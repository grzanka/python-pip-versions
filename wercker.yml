# build python 2.7 by default
box: python:2.7

build:
  steps:

    # copy script to a location that gets passed along to next pipelines
    - script:
        name: copy binary
        code: cp *sh "$WERCKER_OUTPUT_DIR"


# ---------------------------------- debian 8 jessie -----------------------------------------------

debian-8-jessie-py2:
  box: debian:jessie

  steps:
    - script:
        name: prerequisites
        code: |
          ./install.sh py2
          ./discover.sh


debian-8-jessie-py3:
  box: debian:jessie

  steps:
    - script:
        name: prerequisites
        code: |
          ./install.sh py3
          ./discover.sh


# ---------------------------------- debian testing -----------------------------------------------

debian-testing-py2:
  box: debian:testing

  steps:
    - script:
        name: prerequisites
        code: |
          ./install.sh py2
          ./discover.sh


debian-testing-py3:
  box: debian:testing

  steps:
    - script:
        name: prerequisites
        code: |
          ./install.sh py3
          ./discover.sh


# ---------------------------------- debian stable -----------------------------------------------

debian-stable-py2:
  box: debian:stable

  steps:
    - script:
        name: prerequisites
        code: |
          ./install.sh py2
          ./discover.sh


debian-stable-py3:
  box: debian:stable

  steps:
    - script:
        name: prerequisites
        code: |
          ./install.sh py3
          ./discover.sh

